<!--
id:GEN33
category:
-->
# GEN33
Generate composite waveforms by mixing simple sinusoids.

It works similarly to [GEN09](../../scoregens/gen09), but the parameters of the partials are specified in an already existing table, which makes it possible to calculate any number of partials in the orchestra.

The difference between _GEN33_ and [GEN34](../../scoregens/gen34) is that _GEN33_ uses inverse FFT to generate output, while _GEN34_ is based on the algorithm used in oscils opcode. _GEN33_ allows integer partials only, and does not support power of two plus 1 table size, but may be significantly faster with a large number of partials. On the other hand, with _GEN34_, it is possible to use non-integer partial numbers and extended guard point, and this routine may be faster if there is only a small number of partials (note that _GEN34_ is also several times faster than [GEN09](../../scoregens/gen09), although the latter may be more accurate).

## Syntax
``` csound-orc
f # time size  33  src nh scl [fmode]
```

### Initialization

_size_ -- number of points in the table. Must be power of two and at least 4.

_src_ -- source table number. This table contains the parameters of each partial in the following format:

```
stra, pna, phsa, strb, pnb, phsb, ...
```

the parameters are:

* stra, strb, etc.: relative strength of partials. The actual amplitude depends on the value of scl, or normalization (if enabled).
* pna, pnb, etc.:   partial number, or frequency, depending on fmode (see below); zero and negative values are allowed, however, if the absolute value of the partial number exceeds (size / 2), the partial will not be rendered. With _GEN33_, partial number is rounded to the nearest integer.
* phsa, phsb, etc.: initial phase, in the range 0 to 1.

Table length (not including the guard point) should be at least 3 * nh. If the table is too short, the number of partials (nh) is reduced to (table length) / 3, rounded towards zero.

_nh_ -- number of partials. Zero or negative values are allowed, and result in an empty table (silence). The actual number may be reduced if the source table (src) is too short, or some partials have too high frequency.

_scl_ -- amplitude scale.

_fmode_ (optional, default = 0) -- a non-zero value can be used to set frequency in Hz instead of partial numbers in the source table.  The sample rate is assumed to be fmode if it is positive, or -(sr * fmode) if any negative value is specified.

## Examples

Here is an example of the GEN33 routine. It uses the file [gen33.csd](../../examples/gen33.csd).

``` csound-csd title="Example of the gen33 generator." linenums="1"
--8<-- "examples/gen33.csd"
```

This is the diagram of the waveform generated by GEN33, as used in the example:

<figure markdown="span">
![](../../images/gen33.png)
<figcaption>f 2 0 262144 -33 1 inumh 1 -1</figcaption>
</figure>

## See Also

[GEN09](../../scoregens/gen09), [GEN34](../../scoregens/gen34)

## Credits

Programmer: Istvan Varga<br>
March 2002<br>

New in version 4.19
